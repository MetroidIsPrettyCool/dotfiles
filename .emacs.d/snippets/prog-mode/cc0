# -*- mode: snippet -*-
# name: cc0
# key: cc0
# condition: yas-not-string-or-comment-condition
# type: command
# --
(let ((outer-buffer (current-buffer)))
   (with-temp-buffer
     ;; TODO: figure out more precisely what we should clone from the parent mode.
     (dolist (var '(comment-start comment-end comment-start-skip comment-end-skip comment-style))
       (when-let ((entry (assq var (buffer-local-variables outer-buffer))))
         (set (make-local-variable var) (cdr entry))))
     (insert "Any copyright is dedicated to the Public Domain.\n")
     (insert "http://creativecommons.org/publicdomain/zero/1.0/")
     (comment-region (point-min) (point-max))
     (insert-into-buffer outer-buffer)))